!function(e,a,c){"use strict";var t={}||c.APP;t.init=function(a){e.getJSON("js/data/ideb.json",function(c){var r=(e(".ibeb-tbody"),"");e.each(c.city,function(e,a){var c=t.calcIdeb(a.flow,a.learn),l=1==a.schools?" escola":" escolas";r+="<tr class='ideb-city'><td class='city-name' colspan='4'><h1>"+a.name+"</h1><h2>"+a.schools+l+"</h2></td><td class='flow-calc' colspan='2'>"+a.flow+" x "+a.learn+" = "+t.removeComma(c.toFixed(2))+"</td><td class='average'><div class='circle circle-one' data-value="+.01*a.alert+"><span>"+a.alert+"%</span></div></td><td class='average'><div class='circle circle-two' data-value="+.01*a.atention+"><span>"+a.atention+"%</span></div></td><td class='average'><div class='circle circle-three' data-value="+.01*a.improve+"><span>"+a.improve+"%</spab></td></div></td><td class='average'><div class='circle circle-four' data-value="+.01*a.keep+"><span>"+a.keep+"%</span></div></td></tr>"}),e(".ideb-tbody").html(r),a()&&a()}),t.removeDot=function(e){return e.replace(/,/g,".")},t.removeComma=function(e){return e.replace(/\./g,",")},t.removeAccent=function(e){var a="";return a=e.replace(/[ÀÁÂÃÄÅ]/g,"A"),a=a.replace(/[àáâãäå]/g,"a"),a=a.replace(/[ÈÉÊË]/g,"E"),a=a.replace(/[éèêẽë]/g,"e"),a=a.replace(/[ÌÍÎĨÏ]/g,"I"),a=a.replace(/[íìîĩï]/g,"i"),a=a.replace(/[ÙÚÛŨÜ]/g,"U"),a=a.replace(/[úùûũü]/g,"u"),a.toString().toLowerCase()},t.calcIdeb=function(e,a){var c=t.removeDot(e),r=t.removeDot(a);return parseFloat(c)*parseFloat(r)},t.progress=function(){e(".circle-one").circleProgress({value:e(".circle-one").attr("data-value"),size:65,startAngle:-360,thickness:8,fill:{color:"#f7e058"}}),e(".circle-two").circleProgress({value:e(".circle-two").attr("data-value"),size:65,startAngle:-360,thickness:8,fill:{color:"#efa548"}}),e(".circle-three").circleProgress({value:e(".circle-three").attr("data-value"),size:65,startAngle:-360,thickness:8,fill:{color:"#b7d34f"}}),e(".circle-four").circleProgress({value:e(".circle-four").attr("data-value"),size:65,startAngle:-360,thickness:8,fill:{color:"#61add8"}})},t.searchCity=function(a,c){e.getJSON(a,function(a){var r=(e(".ibeb-tbody"),"");e.each(a.city,function(e,a){var l=t.removeAccent(a.name),s=t.removeAccent(c),i=s.length,o=1==a.schools?" escola":" escolas";if(0===i)t.init(function(){t.progress()});else if(i>=3&&(l=l.substring(0,i),s==l)){var n=t.calcIdeb(a.flow,a.learn);r+="<tr class='ideb-city'><td class='city-name' colspan='4'><h1>"+a.name+"</h1><h2>"+a.schools+o+"</h2></td><td class='flow-calc' colspan='2'>"+a.flow+" x "+a.learn+" = "+t.removeComma(n.toFixed(2))+"</td><td class='average'><div class='circle circle-one' data-value="+.01*a.alert+"><span>"+a.alert+"</span></div></td><td class='average'><div class='circle circle-two' data-value="+.01*a.atention+"><span>"+a.atention+"</span></div></td><td class='average'><div class='circle circle-three' data-value="+.01*a.improve+"><span>"+a.improve+"</spab></td></div></td><td class='average'><div class='circle circle-four' data-value="+.01*a.keep+"><span>"+a.keep+"</span></div></td></tr>"}}),e(".ideb-tbody").html(""!=r?r:"Nenhum resultado encontrado :)"),t.progress()})}},e(".ideb-search input").on("focusout",function(){t.searchCity("js/data/ideb.json",e(this).val())}),t.init(function(){t.progress()})}(jQuery,document,window);
//# sourceMappingURL=maps/main.min.js.map