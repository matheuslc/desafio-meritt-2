!function(e,a,t){"use strict";var c={}||t.APP;c.init=function(a){e.getJSON("js/data/ideb.json",function(t){var l=(e(".ibeb-tbody"),"");e.each(t.city,function(e,a){var t=c.calcIdeb(a.flow,a.learn),r=1==a.schools?" escola":" escolas";l+="<tr class='ideb-city'><td class='city-name' colspan='4'><h1>"+a.name+"</h1><h2>"+a.schools+r+"</h2></td><td class='flow-calc' colspan='2'>"+a.flow+" x "+a.learn+" = "+c.removeComma(t.toFixed(2))+"</td><td class='average'><div class='circle-one' data-value="+.01*a.alert+">"+a.alert+"</div></td><td class='average'><div class='circle-two' data-value="+.01*a.atention+">"+a.atention+"</div></td><td class='average'><div class='circle-three' data-value="+.01*a.improve+">"+a.improve+"</td></div></td><td class='average'><div class='circle-four' data-value="+.01*a.keep+">"+a.keep+"</div></td></tr>"}),e(".ideb-tbody").html(l),a()&&a()}),c.removeDot=function(e){return e.replace(/,/g,".")},c.removeComma=function(e){return e.replace(/\./g,",")},c.removeAccent=function(e){var a="";return a=e.replace(/[ÀÁÂÃÄÅ]/g,"A"),a=a.replace(/[àáâãäå]/g,"a"),a=a.replace(/[ÈÉÊË]/g,"E"),a=a.replace(/[éèêẽë]/g,"e"),a=a.replace(/[ÌÍÎĨÏ]/g,"I"),a=a.replace(/[íìîĩï]/g,"i"),a=a.replace(/[ÙÚÛŨÜ]/g,"U"),a=a.replace(/[úùûũü]/g,"u"),a.toString().toLowerCase()},c.calcIdeb=function(e,a){var t=c.removeDot(e),l=c.removeDot(a);return parseFloat(t)*parseFloat(l)},c.progress=function(){e(".circle-one").circleProgress({value:e(".circle-one").attr("data-value"),size:65,startAngle:-360,thickness:8,fill:{color:"#f7e058"}}),e(".circle-two").circleProgress({value:e(".circle-two").attr("data-value"),size:65,startAngle:-360,thickness:8,fill:{color:"#efa548"}}),e(".circle-three").circleProgress({value:e(".circle-three").attr("data-value"),size:65,startAngle:-360,thickness:8,fill:{color:"#b7d34f"}}),e(".circle-four").circleProgress({value:e(".circle-four").attr("data-value"),size:65,startAngle:-360,thickness:8,fill:{color:"#61add8"}})},c.searchCity=function(a,t){e.getJSON(a,function(a){var l=(e(".ibeb-tbody"),"");e.each(a.city,function(e,a){var r=c.removeAccent(a.name),o=c.removeAccent(t),s=o.length,i=1==a.schools?" escola":" escolas";if(console.log(s),0===s)c.init(function(){c.progress()});else if(s>=3&&(r=r.substring(0,s),o==r)){var n=c.calcIdeb(a.flow,a.learn);l+="<tr class='ideb-city'><td class='city-name' colspan='4'><h1>"+a.name+"</h1><h2>"+a.schools+i+"</h2></td><td class='flow-calc' colspan='2'>"+a.flow+" x "+a.learn+" = "+c.removeComma(n.toFixed(2))+"</td><td class='average'><div class='circle-one' data-value="+.01*a.alert+">"+a.alert+"</div></td><td class='average'><div class='circle-two' data-value="+.01*a.atention+">"+a.atention+"</div></td><td class='average'><div class='circle-three' data-value="+.01*a.improve+">"+a.improve+"</td></div></td><td class='average'><div class='circle-four' data-value="+.01*a.keep+">"+a.keep+"</div></td></tr>"}}),""!=l?(console.log("here"),e(".ideb-tbody").html(l)):e(".ideb-tbody").html("Nenhum resultado encontrado :)"),c.progress()})}},e(".ideb-search input").on("focusout",function(){c.searchCity("js/data/ideb.json",e(this).val())}),c.init(function(){c.progress()})}(jQuery,document,window);
//# sourceMappingURL=maps/main.min.js.map